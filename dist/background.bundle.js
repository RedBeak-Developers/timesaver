(()=>{let e={focusTime:1500,breakTime:300,timeLeft:1500,BGintervalID:null,typeRunning:0,isRunning:0};function t(){e.timeLeft-=1,e.timeLeft<=0&&(0===e.typeRunning?(e.timeLeft=e.breakTime,e.typeRunning=1):1===e.typeRunning&&(e.timeLeft=e.focusTime,e.typeRunning=0))}function n(t){e=t}chrome.runtime.onMessage.addListener(((s,i,o)=>{"setState"===s.message&&(console.log("setting the state in background.js"),n(s.state)),"getState"===s.message?(console.log("asking background.js for state: isRunning, timeLeft e.t.c."),o(e)):"startTimer"===s.message?(console.log("setting the state before starting in background.js"),n(s.state),console.log("asking background.js to start timer"),0===e.isRunning?(e.BGintervalID=setInterval(t,1e3),e.isRunning=1,e.typeRunning=0):console.log("attempted to start a timer that isn't completely stopped")):"stopTimer"===s.message?(console.log("asking background.js to stop timer"),null!=e.BGintervalID?(clearInterval(e.BGintervalID),e.isRunning=0,e.timeLeft=e.focusTime,e.BGintervalID=null):console.log("attempted to stop a timer when no timer exists in background.js - line 36"),o(e)):"resumeTimer"===s.message?(console.log("asking background.js to resume timer"),2===e.isRunning?(e.BGintervalID=setInterval(t(),1e3),e.isRunning=1,console.log("timer resumed")):console.log("attempted to resume a timer that is not paused"),o(e)):"pauseTimer"===s.message&&(console.log("asking background.js to pause timer"),null!=e.BGintervalID?(clearInterval(e.BGintervalID),e.isRunning=2,e.BGintervalID=null,console.log("timer paused")):console.log("attempted to pause a timer when no timer exists in background.js - line 36"),o(e))}))})();